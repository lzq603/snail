require=function s(c,a,r){function h(o,e){if(!a[o]){if(!c[o]){var t="function"==typeof require&&require;if(!e&&t)return t(o,!0);if(d)return d(o,!0);var i=new Error("Cannot find module '"+o+"'");throw i.code="MODULE_NOT_FOUND",i}var n=a[o]={exports:{}};c[o][0].call(n.exports,function(e){var t=c[o][1][e];return h(t||e)},n,n.exports,s,c,a,r)}return a[o].exports}for(var d="function"==typeof require&&require,e=0;e<r.length;e++)h(r[e]);return h}({"camera-control":[function(e,t,o){"use strict";cc._RF.push(t,"8647aBKkQBJhZy9HS2y4+te","camera-control"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Node},isMove:!1,speed:444},onLoad:function(){this.camera=this.getComponent(cc.Camera)},onEnable:function(){cc.director.getCollisionManager().attachDebugDrawToCamera(this.camera)},onDisable:function(){cc.director.getCollisionManager().detachDebugDrawFromCamera(this.camera)},move:function(){this.isMove=!0},lateUpdate:function(e){if(this.isMove){var t=this.target.convertToWorldSpaceAR(cc.Vec2.ZERO),o=this.node.convertToWorldSpaceAR(cc.p(-200,0));t.x>o.x?this.node.x+=this.speed*e:this.isMove=!1}}}),cc._RF.pop()},{}],enable_col:[function(e,t,o){"use strict";cc._RF.push(t,"12aeayhDcJBR7CqINIIvalX","enable_col"),cc.Class({extends:cc.Component,properties:{isDebug:!0},onLoad:function(){var e=cc.director.getCollisionManager();e.enabled=!0,e.enabledDebugDraw=this.isDebug},start:function(){}}),cc._RF.pop()},{}],game_scene:[function(e,t,o){"use strict";cc._RF.push(t,"a34beMdqFRDT710ECswiC+X","game_scene"),cc.Class({extends:cc.Component,properties:{player:{type:cc.Node,default:null},stickPrefab:{type:cc.Prefab,default:null},ground:{type:cc.Node,default:null},cameraNode:{type:cc.Node,default:null},score_label:{type:cc.Label,default:null},score:0},onLoad:function(){},start:function(){this.gameStatus=1,this.ground.getComponent(cc.BoxCollider).tag=1,this.camera=this.cameraNode.getComponent(cc.Camera)},game_start:function(){this.node.on("touchstart",function(e){if(1==this.gameStatus){this.stick_rotate=cc.instantiate(this.stickPrefab);var t=this.ground.convertToWorldSpaceAR(this.ground.getChildByName("po").getPosition());t=this.node.convertToNodeSpaceAR(t),this.stick_rotate.setPosition(t),this.node.addChild(this.stick_rotate),this.camera.addTarget(this.stick_rotate)}}.bind(this),this),this.node.on("touchend",function(e){1==this.gameStatus&&(this.gameStatus=0,this.stick_rotate.getChildByName("stick").getComponent("stick").stopLengthen())}.bind(this),this),this.node.getChildByName("score").active=!0,this.node.getChildByName("start_btn").destroy()},nextPlat:function(e){e?(console.log("下一关"),this.player.getComponent("player").isForward=!0,this.player.getComponent("player").isOver=!0):(console.log("下一关"),this.player.getComponent("player").isForward=!0,this.gainScore())},gainScore:function(){this.score+=10,this.score_label.string="分数："+this.score,cc.log("分数:"+this.score)},restart:function(){this.score=0,cc.director.loadScene("game_scene")}}),cc._RF.pop()},{}],ground:[function(e,t,o){"use strict";cc._RF.push(t,"ffb12cVSShPMJPsjj8dZAO8","ground"),cc.Class({extends:cc.Component,properties:{po:{type:cc.Node,default:null},flag:{type:cc.Node,default:null}},start:function(){this.addCollider(),this.resetpos()},addCollider:function(){this.node.addComponent(cc.BoxCollider),this.colliderCom=this.getComponent(cc.BoxCollider);var e=cc.p(-this.node.width/2,-this.node.height/2);this.colliderCom.offset=e,this.colliderCom.size=this.node.getContentSize()},resetpos:function(){var e=this.po.x;this.flag.x=e}}),cc._RF.pop()},{}],player:[function(e,t,o){"use strict";cc._RF.push(t,"8cbb1T9myxBepCm/v3Ob9sc","player"),cc.Class({extends:cc.Component,properties:{isForward:!1,isOver:!1,camera:e("camera-control"),game:e("game_scene"),speed:444},start:function(){},update:function(e){this.isForward&&(this.node.x+=this.speed*e)},onCollisionEnter:function(e,t){console.log(e.tag),3!=e.tag||this.isOver||(this.isForward=!1,this.game.ground=e.node.parent,e.tag=5,this.game.ground.getComponent(cc.BoxCollider).tag=1,this.camera.move(),this.game.gameStatus=1)}}),cc._RF.pop()},{"camera-control":"camera-control",game_scene:"game_scene"}],stick:[function(e,t,o){"use strict";cc._RF.push(t,"90fa2h2x2RKiYgXk2NseK9d","stick"),cc.Class({extends:cc.Component,properties:{speed:555,rotate_speed:111},start:function(){this.isLengthen=!0,this.isRotate=!1,this.body=this.node.getComponent(cc.RigidBody),this.colliderCom=this.node.getComponent(cc.BoxCollider),this.game=this.node.parent.parent.getComponent("game_scene"),this.speed=555},lengthen:function(){this.isLengthen=!0},stopLengthen:function(){this.isLengthen=!1,this.isRotate=!0},update:function(e){if(this.isLengthen){this.node.height+=this.speed*e;var t=this.colliderCom.size;t.height=this.node.height,this.colliderCom.size=t;this.colliderCom.offset.y=this.node.height/2}this.isRotate&&(this.node.parent.rotation+=this.rotate_speed*e),this.isFall&&(this.node.parent.y-=this.speed*e)},onCollisionEnter:function(e,t){if(console.log(e.tag),this.isRotate=!1,0==e.tag){this.node.parent.rotation=90,this.node.parent.y-=this.node.width;var o=this.node.convertToWorldSpaceAR(cc.p(0,this.node.height)),i=e.node.convertToWorldSpaceAR(cc.p(0,0));if(cc.log(o.x),cc.log(i.x),o.x>i.x)return void this.game.nextPlat(!0);this.game.nextPlat(!1)}else 2==e.tag&&(this.isFall=!0,this.node.parent.rotation=180)}}),cc._RF.pop()},{}]},{},["camera-control","enable_col","game_scene","ground","player","stick"]);